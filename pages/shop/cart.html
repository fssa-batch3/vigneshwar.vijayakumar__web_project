<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset='UTF-8'>
	<link rel="icon" type="image/x-icon" href="../../assets/images/favicon.png">
<title> Cart - Global Fun City </title>
<link rel="stylesheet" href="../../assets/store css/cart.css" />

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Nanum+Pen+Script&family=Open+Sans:wght@700&family=Poppins:wght@300;500&family=Reem+Kufi&family=Sacramento&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@500&family=Poppins:wght@300;500&family=Work+Sans:wght@300&display=swap" rel="stylesheet">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
</head>
<body>

    <div class="shipping">
        <p>Free Shipping on orders of $99 or more! Code: SHIPGLOBAL</p>
    </div>
    
    <!-- div for shop logo & others -->
    <div class="header-navbar">
    
    <div class="icons-info">
        <a href="../../index.html"><i class="fa-sharp fa-solid fa-house"></i> &nbsp; Back to Home </a> &nbsp;
        <a href=""><i class="fa-solid fa-phone"></i> &nbsp; Contact </a> 
        <a href=""><i class="fa-brands fa-cc-visa"></i> &nbsp; Global Visa Card </a>
    </div>	
    
    <div class="logo-global">
        <a href=""><img src="../../assets/images/global-shop-logo.png" width="210" alt="global-shop-logo"/></a>
    </div>
    
    <div class="icons-info">
        <a href="../../pages/signup for shopping/signup_shop.html"> <i class="fa-solid fa-user"></i> &nbsp; Sign In | Sign Up </a> &nbsp;
        <a href=""> <i class="fa-solid fa-heart"></i> &nbsp; My Wishlist (2)</a> &nbsp;
        <a href="../../pages/shop/cart.html"> <i class="fa-solid fa-bag-shopping"></i> &nbsp; My Bag (2)</a>
    </div>
    </div>


<div class="background-color">

    <div class="cart">
        <h1>My Bag</h1>
    </div>

<table class="product-table">
    <tbody class="tbody-for-products">
    <tr>
        <th>Product</th>
        <th>Price</th>
        <th>Size</th>
        <th>Quantity</th>
        <th>Subtotal</th>
        <th>Remove</th>
    </tr>
    
    <!-- <tr>
        <td><img src="../../assets/images/shopping/t-shirt.jpg" width="150px" height="130px" alt="White-T-Shirt"/> <p>White-T-Shirt with Logo</p></td>
        <td>$199.00</td>
        <td>M</td>
        <td>$199.00</td>
        <td><a href="../../pages/shop/shop.html"><i class="fa-solid fa-xmark"></i></a></td>
        </tr> -->
       
        <!-- <tr>
            <td><img src="../../assets/images/shopping/black.jpg" width="150px" height="130px" alt="White-T-Shirt"/> <p>Black-T-Shirt with Events</p></td>
            <td>$299.00</td>
            <td>XL</td>
            <td>1</td>
            <td>$299.00</td>
            <td><a href="../../pages/shop/shop.html"><i class="fa-solid fa-xmark"></i></a></td>
            </tr> -->
    </tbody>        
</table> 

<button class="btn-shopping"><a href="../../pages/shop/shop.html"> Continue Shopping </a></button>



<div class="order-of-summary">
<div class="cart-details">
    <h2>Order of Summary</h2>
</div>

<table class="card-totals">
    <tr>
        <th id="total">Subtotals</th>
        <th id="price">$498.00</th>
    </tr>

    <tr>
        <th id="total">Total</th>
        <th id="price">$498.00</th>
    </tr>
</table>

<button class="btn-checkout"><a href="../../pages/shop/checkout.html">Proceed to Checkout </a></button>
</div>
</div>
</div>

</div>


<footer>
    <div class="background-footer">
    
    <div class="navbar-footer-logo">
        <img src="../../assets/images/globalfuncitylogo.png" width="200" alt="logo"/>
    </div>
    
    <div class="address">
        <p>11113 W Baldwin RD, Monrovia, MD 21770, USA</p>
        <h4><i class="fa-solid fa-phone"></i> +1 860 817 1080</h4>
        <h4><i class="fa-solid fa-envelope"></i> info@globalfuncity.in</h4>
    </div>
    
    <div class="other-policies">
        <a href="#" >Book now Policy</a>
    </div>
    </div>

</footer>

<script>

let addtoBag = JSON.parse(localStorage.getItem("add_to_cart_products"));
console.log(addtoBag);

for(let i=0; i<addtoBag.length; i++){
// create the tr element
const tr = document.createElement('tr');

document.querySelector(".tbody-for-products").appendChild(tr);
// create the td elements and their content
const td1 = document.createElement('td');
const img = document.createElement('img');
img.src = addtoBag[i]["product_photo"];
img.width = '150';
img.height = '130';
img.alt = addtoBag[i]["product_name"];
const p = document.createElement('p');
p.textContent = addtoBag[i]["product_name"];
td1.appendChild(img);
td1.appendChild(p);

const td2 = document.createElement('td');
td2.textContent = addtoBag[i]["product_price"];

const td3 = document.createElement('td');
td3.textContent = 'XL';

const td4 = document.createElement('td');
td4.textContent = '1';

const td5 = document.createElement('td');
td5.textContent = '$299.00';

const td6 = document.createElement('td');
const i_icon = document.createElement('i');
i_icon.classList.add('fa-solid', 'fa-xmark');
i_icon.setAttribute("data-remove", addtoBag[i]["product_uuid"]);
i_icon.id = "remove_product_icon";
td6.appendChild(i_icon);

// append all the td elements to the tr element

tr.appendChild(td1);
tr.appendChild(td2);
tr.appendChild(td3);
tr.appendChild(td4);
tr.appendChild(td5);
tr.appendChild(td6);

}

//Remove Product from the cart
let removeProduct_from_cart = document.querySelectorAll("#remove_product_icon");
removeProduct_from_cart.forEach(function(remove){
    remove.addEventListener("click", function(){
        let customAttribute = this.dataset.remove;
        localStorage.setItem("removeProducts_from_my_Bag" , JSON.stringify(customAttribute));
console.log(customAttribute);

let product_uuid_of_bag = JSON.parse(localStorage.getItem("removeProducts_from_my_Bag"));

let toGet_the_products = JSON.parse(localStorage.getItem("add_to_cart_products"));

let toCheck_product_uuid = toGet_the_products.find(e => e.product_uuid == product_uuid_of_bag)

let indexOfProduct = toGet_the_products.indexOf(toCheck_product_uuid);

toGet_the_products.splice(indexOfProduct, 1);

localStorage.setItem("add_to_cart_products" , JSON.stringify(toGet_the_products));

window.location.reload();

        // let removeProduct = JSON.parse(localStorage.getItem("unique_id_of_products"));
    })
})
</script>

</body>
</html>